[gd_scene load_steps=20 format=4 uid="uid://b42aqoqfwnrt6"]

[ext_resource type="Script" path="res://Scripts/level_script.gd" id="1_qiyab"]
[ext_resource type="Script" path="res://Scripts/Player/gui.gd" id="2_grias"]
[ext_resource type="PackedScene" uid="uid://cqx28sd66x8xf" path="res://Scenes/ScreenFx/PauseMenu.tscn" id="3_uu8he"]
[ext_resource type="PackedScene" uid="uid://bm67c4ebptsl8" path="res://Scenes/ScreenFx/Fader.tscn" id="4_5mjus"]
[ext_resource type="TileSet" uid="uid://cw74evm60x0ej" path="res://Art/Tilesets/all_tiles.tres" id="5_ara0k"]
[ext_resource type="PackedScene" uid="uid://7x0y123vgrm6" path="res://Scenes/Player/Player.tscn" id="6_odwia"]
[ext_resource type="AudioStream" uid="uid://ba5ajgqe04tu4" path="res://Sounds/Music/enemylevel.mp3" id="7_jupet"]
[ext_resource type="PackedScene" uid="uid://dqsatwfb0ss2q" path="res://Scenes/Interactable/torchy.tscn" id="8_4co6f"]
[ext_resource type="Texture2D" uid="uid://dcsfy5esvicrn" path="res://Art/Sprites/Effects/random_selection.png" id="9_mwptc"]
[ext_resource type="Texture2D" uid="uid://c0pnh36r6nyti" path="res://Art/Sprites/Abilities/PLACEHOLDER_RING.webp" id="10_ek8iy"]
[ext_resource type="PackedScene" uid="uid://b3xs8f4mje4g0" path="res://Scenes/Enemies/guard_gun.tscn" id="11_3svhh"]
[ext_resource type="PackedScene" path="res://Scenes/Enemies/strong_guard.tscn" id="12_g6o7l"]

[sub_resource type="Animation" id="Animation_7wcv3"]
resource_name = "die"
tracks/0/type = "method"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../Player")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0.8),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"respawn"
}]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_y6vgx"]
_data = {
"die": SubResource("Animation_7wcv3")
}

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_easvo"]
blend_mode = 1
particles_animation = true
particles_anim_h_frames = 3
particles_anim_v_frames = 1
particles_anim_loop = true

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_u176e"]
particle_flag_disable_z = true
angle_min = -304.2
angle_max = 360.0
gravity = Vector3(0, 0, 0)
color = Color(0.919727, 0.609945, 0.463725, 1)
anim_offset_max = 1.0

[sub_resource type="Animation" id="Animation_g8640"]
resource_name = "Floaty"
length = 2.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("RingFloat/Sprite2D:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0.0333333, 0.3, 0.533333, 0.8, 1.03333, 1.26667, 1.53333, 1.8, 2.03333),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Vector2(2, -15), Vector2(2, -10), Vector2(2, -5), Vector2(2, 0), Vector2(2, 5), Vector2(2, 0), Vector2(2, -5), Vector2(2, -10), Vector2(2, -15)]
}

[sub_resource type="Animation" id="Animation_5gwl0"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("RingFloat/Sprite2D:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(2, 15)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_i0x0i"]
_data = {
"Floaty": SubResource("Animation_g8640"),
"RESET": SubResource("Animation_5gwl0")
}

[node name="LevelTemplate" type="Node2D"]
texture_filter = 1
script = ExtResource("1_qiyab")

[node name="UI" type="CanvasLayer" parent="."]

[node name="gui" type="Control" parent="UI"]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
script = ExtResource("2_grias")
metadata/_edit_use_anchors_ = true

[node name="healthbox" type="HBoxContainer" parent="UI/gui"]
texture_filter = 1
layout_mode = 0
offset_left = 16.0
offset_top = 16.0
offset_right = 67.0
offset_bottom = 27.0
scale = Vector2(8, 8)
theme_override_constants/separation = 0

[node name="DeathAnimator" type="AnimationPlayer" parent="UI"]
libraries = {
"": SubResource("AnimationLibrary_y6vgx")
}

[node name="PauseMenu" parent="." node_paths=PackedStringArray("Fader") instance=ExtResource("3_uu8he")]
Fader = NodePath("../Fader")

[node name="Fader" parent="." instance=ExtResource("4_5mjus")]

[node name="level_tiles" type="TileMapLayer" parent="."]
scale = Vector2(4, 4)
tile_map_data = PackedByteArray("AAAuABUAAgACAAIAAAAuABQAAgACAAIAAAAuABMAAgACAAIAAAAuABIAAgABAAEAAAAtABUAAgAHAAAAAAAtABQAAgAHAAEAAAAtABMAAgAHAAEAAAAtABIAAgABAAEAAAAsABUAAgAGAAAAAAAsABQAAgAFAAQAAAAsABMAAgAGAAAAAAAsABIAAgABAAEAAAArABUAAgAFAAQAAAArABQAAgAHAAEAAAArABMAAgAFAAQAAAArABIAAgABAAUAAAAqABUAAgAHAAEAAAAqABQAAgAHAAAAAAAqABMAAgAHAAEAAAAqABIAAgABAAUAAAApABUAAgAHAAAAAAApABQAAgAGAAEAAAApABMAAgAGAAEAAAApABIAAgABAAEAAAAoABUAAgAHAAEAAAAoABQAAgAGAAEAAAAoABMAAgAGAAEAAAAoABIAAgABAAUAAAAnABUAAgAHAAEAAAAnABQAAgABAAIAAAAnABMAAgAGAAEAAAAnABIAAgABAAEAAAAmABUAAgAGAAAAAAAmABQAAgAHAAEAAAAmABMAAgAGAAAAAAAmABIAAgABAAEAAAAlABUAAgAGAAAAAAAlABQAAgAGAAEAAAAlABMAAgAHAAAAAAAlABIAAgABAAUAAAAkABUAAgAGAAAAAAAkABQAAgAFAAQAAAAkABMAAgABAAIAAAAkABIAAgABAAEAAAAjABUAAgAGAAEAAAAjABQAAgABAAIAAAAjABMAAgAGAAEAAAAjABIAAgABAAUAAAAiABUAAgAFAAQAAAAiABQAAgAGAAEAAAAiABMAAgAFAAQAAAAiABIAAgABAAUAAAAhABUAAgABAAIAAAAhABQAAgAGAAAAAAAhABMAAgAHAAEAAAAhABIAAgABAAUAAAAgABUAAgAGAAAAAAAgABQAAgAHAAEAAAAgABMAAgAHAAEAAAAgABIAAgABAAEAAAAfABUAAgAGAAAAAAAfABQAAgAHAAAAAAAfABMAAgAGAAEAAAAfABIAAgABAAUAAAAeABUAAgAHAAEAAAAeABQAAgAHAAAAAAAeABMAAgAHAAAAAAAeABIAAgABAAEAAAAdABUAAgAHAAEAAAAdABQAAgABAAIAAAAdABMAAgAFAAQAAAAdABIAAgABAAUAAAAcABUAAgAGAAEAAAAcABQAAgAGAAAAAAAcABMAAgAGAAEAAAAcABIAAgABAAEAAAAbABUAAgAGAAAAAAAbABQAAgAGAAAAAAAbABMAAgAHAAAAAAAbABIAAgABAAUAAAAaABUAAgAHAAEAAAAaABQAAgAHAAAAAAAaABMAAgAGAAEAAAAaABIAAgABAAUAAAAZABUAAgAHAAEAAAAZABQAAgAHAAAAAAAZABMAAgAHAAAAAAAZABIAAgABAAUAAAAYABUAAgABAAIAAAAYABQAAgAGAAEAAAAYABMAAgAGAAAAAAAYABIAAgABAAEAAAAXABUAAgAFAAQAAAAXABQAAgAFAAQAAAAXABMAAgAGAAEAAAAXABIAAgABAAEAAAAWABUAAgAGAAAAAAAWABQAAgAHAAEAAAAWABMAAgAFAAQAAAAWABIAAgABAAEAAAAVABUAAgAHAAAAAAAVABQAAgAHAAAAAAAVABMAAgAGAAAAAAAVABIAAgABAAEAAAAUABUAAgAHAAAAAAAUABQAAgAGAAAAAAAUABMAAgAFAAQAAAAUABIAAgABAAUAAAATABUAAgAGAAEAAAATABQAAgAGAAEAAAATABMAAgAFAAQAAAATABIAAgABAAEAAAASABUAAgAHAAAAAAASABQAAgAHAAEAAAASABMAAgAHAAAAAAASABIAAgABAAUAAAARABUAAgABAAIAAAARABQAAgABAAIAAAARABMAAgAGAAAAAAARABIAAgABAAUAAAAQABUAAgAFAAQAAAAQABQAAgAGAAEAAAAQABMAAgAGAAAAAAAQABIAAgABAAUAAAAPABUAAgAHAAAAAAAPABQAAgAHAAEAAAAPABMAAgAHAAAAAAAPABIAAgABAAEAAAAOABUAAgAHAAEAAAAOABQAAgAEAAQAAAAOABMAAgAEAAQAAAAOABIAAgAAAAEAAAAOABYAAgAAAAMAAAAPABYAAgABAAMAAAAQABYAAgAHAAAAAAARABYAAgABAAIAAAASABYAAgABAAIAAAATABYAAgAHAAEAAAAUABYAAgAGAAEAAAAVABYAAgAFAAQAAAAWABYAAgAFAAUAAAAXABYAAgAFAAUAAAAYABYAAgABAAMAAAAZABYAAgAFAAUAAAAaABYAAgABAAMAAAAbABYAAgABAAMAAAAcABYAAgAFAAUAAAAdABYAAgAFAAUAAAAeABYAAgAFAAUAAAAfABYAAgAFAAUAAAAgABYAAgABAAMAAAAhABYAAgAFAAUAAAAiABYAAgAFAAUAAAAjABYAAgAFAAUAAAAkABYAAgABAAMAAAAlABYAAgAFAAUAAAAmABYAAgAFAAUAAAAnABYAAgAFAAUAAAAoABYAAgAFAAUAAAApABYAAgABAAMAAAAqABYAAgAFAAUAAAArABYAAgABAAMAAAAsABYAAgAFAAUAAAAtABYAAgABAAMAAAAuABYAAgACAAMAAAAZAAMAAwACAAEAADAaAAMAAwABAAUAADAbAAMAAwAHAAAAADAbAAIAAwABAAMAADAcAAIAAwAFAAUAADAdAAIAAwAFAAUAADAXABEAAwAAAAAAAAAYAAsAAwADAAUAAAAYAAwAAwAEAAUAAAAYABEAAwABAAAAAAAZAAwAAwACAAUAAAAZAA0AAwAAAAMAAAAZABAAAwAAAAUAAAAZABEAAwABAAMAAAAaAA0AAwABAAEAAAAaAA4AAwAAAAMAAAAaABAAAwABAAEAAAAaABEAAwABAAMAAAAbAA0AAwACAAUAAAAbAA4AAwAHAAAAAAAbAA8AAwAEAAQAAAAbABAAAwAHAAAAAAAbABEAAwABAAMAAAAcAA4AAwABAAEAAAAcAA8AAwAHAAAAAAAcABAAAwAHAAAAAAAcABEAAwABAAMAAAAdAA4AAwABAAEAAAAdAA8AAwAFAAQAAAAdABAAAwAGAAAAAAAdABEAAwABAAMAAAAeAA4AAwABAAUAAAAeAA8AAwAHAAEAAAAeABAAAwAFAAQAAAAeABEAAwAFAAUAAAAfAA4AAwABAAEAAAAfAA8AAwAHAAAAAAAfABAAAwAHAAAAAAAfABEAAwAFAAUAAAAgAA0AAwAAAAEAAAAgAA4AAwAGAAEAAAAgAA8AAwAGAAQAAAAgABAAAwAHAAAAAAAgABEAAwABAAMAAAAhAA0AAwABAAEAAAAhAA4AAwAGAAUAAAAhABAAAwABAAUAAAAhABEAAwABAAMAAAAiAAwAAwAAAAUAAAAiAA0AAwAGAAUAAAAiABAAAwACAAEAAAAiABEAAwAFAAUAAAAjAAsAAwADAAUAAAAjAAwAAwAGAAUAAAAjABEAAwABAAAAAAAkABEAAwACAAAAAAAdAAMAAwAFAAQAADAdAAQAAwAHAAEAADAdAAUAAwABAAUAADAfAAMAAwAHAAAAADAfAAQAAwAHAAAAADAfAAUAAwABAAEAADAkAAIAAwAAAAAAADAjAAIAAwABAAAAADAjAAcAAwAEAAUAADAjAAgAAwADAAUAADAiAAIAAwABAAMAADAiAAMAAwAAAAUAADAiAAYAAwAAAAMAADAiAAcAAwACAAUAADAhAAIAAwABAAMAADAhAAMAAwABAAEAADAhAAUAAwAAAAMAADAhAAYAAwABAAEAADAgAAIAAwABAAMAADAgAAMAAwAHAAAAADAgAAQAAwAEAAQAADAgAAUAAwAHAAAAADAgAAYAAwACAAUAADAfAAIAAwABAAMAADAeAAIAAwABAAMAADAeAAMAAwAGAAAAADAeAAQAAwAFAAQAADAeAAUAAwABAAEAADAcAAMAAwAHAAAAADAcAAQAAwAHAAAAADAcAAUAAwABAAEAADAbAAQAAwAGAAQAADAbAAUAAwAGAAEAADAbAAYAAwAAAAEAADAaAAIAAwABAAMAADAaAAUAAwAGAAUAADAaAAYAAwABAAEAADAZAAIAAwAFAAUAADAZAAYAAwAGAAUAADAZAAcAAwAAAAUAADAYAAIAAwABAAAAADAYAAcAAwAGAAUAADAYAAgAAwADAAUAADAXAAIAAwACAAAAADAXAAsABgAEAAAAAAAWAAwABgAEAAAAAAAVAA0ABgAEAAAAAAAUAA4ABgAEAAAAAAATAA8ABgAEAAAAAAASABAABgAEAAAAAAARABEABgAEAAAAAAAXAAwABgAFAAEAAAAWAA0ABgAFAAEAAAAVAA4ABgAFAAEAAAAUAA8ABgAFAAEAAAATABAABgAFAAEAAAASABEABgAFAAEAAAAkAAcABgAGAAIAAAAlAAcABgAHAAIAAAAmAAgABgAGAAIAAAAnAAgABgAHAAIAAAAoAAkABgAGAAIAAAApAAkABgAHAAIAAAAqAAoABgAGAAIAAAArAAoABgAHAAIAAAAtAAwABgAEAAIAAAAuAAwABgAFAAIAAAArAA0ABgAEAAIAAAAsAA0ABgAFAAIAAAApAA4ABgAEAAIAAAAqAA4ABgAFAAIAAAAnAA8ABgAEAAIAAAAoAA8ABgAFAAIAAAAlABAABgAEAAIAAAAmABAABgAFAAIAAAAkAAgABgAEAAMAAAAlAAgABgAFAAMAAAAmAAkABgAEAAMAAAAnAAkABgAFAAMAAAAoAAoABgAEAAMAAAApAAoABgAFAAMAAAAtAA0ABgAGAAMAAAAuAA0ABgAHAAMAAAArAA4ABgAGAAMAAAAsAA4ABgAHAAMAAAApAA8ABgAGAAMAAAAqAA8ABgAHAAMAAAAnABAABgAGAAMAAAAoABAABgAHAAMAAAAlABEABgAGAAMAAAAmABEABgAHAAMAAAAvAAwABgAAAAAAAAAwAAwABgABAAQAAAAyAAwABgABAAAAAAAxAAwABgABAAAAAAAvAAYABgAAAAQAAAAwAAYABgABAAQAAAAxAAYABgABAAAAAAAyAAYABgABAAQAAAAzAAYABgABAAUAAAA0AAYABgABAAAAAAA1AAYABgABAAAAAAA2AAYABgACAAAAAAAuAAYABgAFAAIAAAAtAAYABgAEAAIAAAAzAAwABgAGAAUAAAAzAAsABgAHAAQAAAAzAAoABgAHAAQAAAAzAAkABgADAAIAAAAzAAgABgAHAAQAAAAzAAcABgAHAAQAAAAEABgAAgABAAEAAAADABgAAgABAAEAAAACABgAAgABAAUAAAABABgAAgABAAEAAAAAABgAAgABAAEAAAD//xgAAgAAAAEAAAD//xkAAgAEAAQAAAD//xoAAgAAAAMAAAAAABoAAgAFAAUAAAABABoAAgABAAMAAAACABoAAgABAAMAAAADABoAAgAFAAUAAAAEABoAAgABAAMAAAAFABoAAgAFAAUAAAAGABoAAgAFAAUAAAAHABoAAgAFAAUAAAAIABoAAgACAAQAAAAHABkAAgACAAUAAAAGABkAAgAFAAQAAAAGABgAAgACAAEAAAAFABgAAgABAAUAAAAFABkAAgABAAIAAAAEABkAAgAGAAAAAAADABkAAgAGAAAAAAACABkAAgABAAIAAAABABkAAgAHAAEAAAAAABkAAgAHAAAAAAANABUAAgAAAAQAAAAQABcAAgAEAAUAAAARABcAAgAHAAEAAAARABgAAgAEAAUAAAASABgAAgAGAAAAAAASABkAAgAEAAUAAAATABoAAgAEAAQAAAATABsAAgAEAAQAAAATABwAAgAHAAAAAAASABwAAgAAAAEAAAD6/yAAAgAGAAEAAAD5/yAAAgAFAAUAAAD5/x8AAgAHAAAAAAD4/x8AAgAHAAEAAAD4/x4AAgAGAAEAAAD3/x4AAgAHAAAAAAD2/x0AAgAEAAQAAAD2/xwAAgAGAAAAAAD1/xwAAgAEAAUAAAD1/xsAAgAEAAQAAAD1/xoAAgAEAAQAAAD1/xkAAgAEAAQAAAD1/xgAAgAAAAEAAAD2/x4AAgAEAAUAAAD3/x8AAgAEAAUAAAD4/yAAAgAAAAMAAAD6/yEAAgADAAMAAAD//yMAAgAAAAQAAAAAACMAAgABAAAAAAABACMAAgABAAUAAAABACQAAgAAAAMAAAACACQAAgABAAMAAAADACQAAgAFAAUAAAAEACQAAgABAAMAAAAFACQAAgAGAAUAAAAFACMAAgABAAUAAAAGACMAAgACAAAAAAAEACMAAgABAAEAAAADACMAAgABAAUAAAACACMAAgABAAEAAAAFAB4AAgABAAEAAAAHAB4AAgABAAUAAAAGAB4AAgABAAUAAAAEAB4AAgABAAUAAAADAB4AAgABAAUAAAACAB4AAgABAAEAAAABAB4AAgAAAAUAAAABAB8AAgAAAAMAAAACAB8AAgAFAAUAAAADAB8AAgAFAAUAAAAEAB8AAgAFAAUAAAAFAB8AAgAFAAUAAAAGAB8AAgABAAMAAAAHAB8AAgAFAAUAAAAIAB8AAgABAAMAAAAIAB4AAgABAAUAAAAJAB4AAgABAAEAAAAJAB8AAgAFAAUAAAAKAB8AAgABAAMAAAALAB8AAgAGAAUAAAAKAB4AAgABAAUAAAALAB4AAgACAAEAAAANABsAAgABAAQAAAAOABsAAgACAAAAAAAMABsAAgAAAAQAAAAMACMAAgAAAAQAAAANACMAAgABAAQAAAAOACMAAgABAAAAAAAPACMAAgABAAQAAAAQACMAAgACAAEAAAAQACQAAgAAAAMAAAARACQAAgABAAAAAAASACQAAgABAAQAAAATACQAAgABAAAAAAAUACQAAgACAAMAAAAUACMAAgAAAAUAAAAVACMAAgABAAAAAAAWACMAAgACAAQAAAAVABcAAgAGAAQAAAAVABgAAgACAAIAAAAVABkAAgACAAIAAAAVABoAAgACAAMAAAAUABoAAgABAAIAAAAUABsAAgACAAIAAAAUABwAAgACAAIAAAAUABkAAgAGAAEAAAATABkAAgAGAAAAAAATABgAAgAGAAEAAAASABcAAgAHAAAAAAATABcAAgAGAAEAAAAUABcAAgABAAIAAAAUABgAAgAHAAAAAAARAB0AAgAAAAEAAAASAB0AAgABAAMAAAATAB0AAgABAAMAAAAUAB0AAgACAAMAAAARAB4AAgAGAAUAAAAQAB4AAgAAAAAAAAD2/xgAAgACAAEAAAD2/xkAAgAGAAEAAAD2/xoAAgAHAAAAAAD2/xsAAgABAAIAAAD3/xwAAgAGAAEAAAD3/x0AAgAGAAEAAAD4/x0AAgAHAAAAAAD5/x4AAgAFAAQAAAD6/x4AAgACAAEAAAD6/x8AAgACAAIAAAD7/yAAAgACAAQAAAD5/x0AAgACAAUAAAD4/xwAAgACAAEAAAD3/xsAAgAGAAQAAAD3/xkAAgACAAEAAAD3/xoAAgAGAAQAAAA=")
tile_set = ExtResource("5_ara0k")

[node name="Checkpoints" type="Node2D" parent="."]

[node name="upgrades" type="Node2D" parent="."]

[node name="Player" parent="." node_paths=PackedStringArray("GUI", "deathAnimator") instance=ExtResource("6_odwia")]
position = Vector2(500, 546)
floor_snap_length = 12.0
GUI = NodePath("../UI/gui")
deathAnimator = NodePath("../UI/DeathAnimator")

[node name="Music" type="AudioStreamPlayer" parent="."]
process_mode = 3
stream = ExtResource("7_jupet")
autoplay = true
bus = &"Music"

[node name="torchy" parent="." instance=ExtResource("8_4co6f")]
position = Vector2(1562, 135)

[node name="AbilityEffect" type="GPUParticles2D" parent="."]
z_index = -1
material = SubResource("CanvasItemMaterial_easvo")
position = Vector2(964, 322)
process_material = SubResource("ParticleProcessMaterial_u176e")
texture = ExtResource("9_mwptc")

[node name="RingFloat" type="Node2D" parent="."]
position = Vector2(974, 340)

[node name="Sprite2D" type="Sprite2D" parent="RingFloat"]
position = Vector2(2, 15)
scale = Vector2(0.0997177, 0.0857083)
texture = ExtResource("10_ek8iy")

[node name="AnimationPlayer" type="AnimationPlayer" parent="RingFloat"]
root_node = NodePath("../..")
libraries = {
"": SubResource("AnimationLibrary_i0x0i")
}
autoplay = "Floaty"

[node name="GuardGun" parent="." instance=ExtResource("11_3svhh")]
position = Vector2(1357, 433)
scale = Vector2(3.17, 3.17)

[node name="StrongGuard" parent="." instance=ExtResource("12_g6o7l")]
position = Vector2(1198, 222)
scale = Vector2(3, 3)

[editable path="torchy"]
